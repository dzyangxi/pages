<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html>

	<head>

		<meta charset="UTF8">
		<title>返回到顶部</title>
		<style type="text/css">
			*{
				margin: 0px;
				padding: 0px;
				font-size: 12px;
			}

			#box{
				width: 1190px;
				margin: 0 auto;
			}

			#btn{
				position: fixed;
				width: 71px;
				height: 72px;
				left:50%; 
			    margin-left:610px;
			    bottom:30px; 
				background: url(images/toTop.gif) no-repeat left top;
				display: none;
			}

			#btn:hover{
				background: url(images/toTop.gif) no-repeat right top;
			}

		</style>

		<script type="text/javascript">

			window.onload = function  () {
				var btn = document.getElementById('btn');
				var clientHeight = document.documentElement.clientHeight || document.body.clientHeight;
				var timer = null; /*定时器*/
				var isTop = true;

				window.onscroll = function(){
					var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;

					console.log('scrollTop:'+scrollTop+'clientHeight:'+clientHeight);
					if (scrollTop >= clientHeight) {
						btn.style.display = 'block';
					}else{
						btn.style.display = 'none';
					};

					if (!isTop) {
						clearInterval(timer);
					};

					isTop = false ;
				}

				btn.onclick = function(){

					timer = setInterval(function(){
						//获取滚动条的高度
						var scrollTop = document.documentElement.scrollTop || document.body.scrollTop ;
						
						var ispeed = Math.floor(-scrollTop / 6);

						document.documentElement.scrollTop = document.body.scrollTop =  (scrollTop+ispeed);

						console.log('scrollTop:'+scrollTop+'-->'+(scrollTop+ispeed));

						isTop = true;

						if (scrollTop==0) {

							//清除定时器
							clearInterval(timer);
						};
					},30);
				}	
			}
		</script>
	</head>
	<body>
		
		<div id="box">
			<img src="images/image.jpg"/>
		</div>

		<a href="javascript:;" id="btn" title="返回到顶部"></a>
	</body>
</html>